<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body ng-app="MyApp">

<div> Hey! Resolve Promises <a
        href="http://bguiz.github.io/js-standards/angularjs/resolving-promises-for-a-controller/"> | Source Link</a>
</div>

<div ng-controller="Ctrl">

    <br>
    <b></b>
    <hr>

</div>

<script type="text/javascript" src="../bower_components/angular/angular.js"></script>
<script type="text/javascript">

    /* even better */

    // route-config.js
    angular.module('MyApp', [])
            .config(config);

    function config($routeProvider) {
        $routeProvider
                .when('/avengers', {
                    templateUrl: 'avengers.html',
                    controller: 'Avengers',
                    controllerAs: 'vm',
                    resolve: {
                        moviesPrepService: moviesPrepService
                    }
                });
    }

    function moviePrepService(movieService) {
        return movieService.getMovies();
    }

    // avengers.js
     angular.module('MyApp', [])
            .controller('Avengers', Avengers);

    Avengers.$inject = ['moviesPrepService'];
    function Avengers(moviesPrepService) {
        var vm = this;
        vm.movies = moviesPrepService.movies;
    }

</script>
</body>
</html>
